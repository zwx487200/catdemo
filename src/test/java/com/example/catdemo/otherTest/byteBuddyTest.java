package com.example.catdemo.otherTest;

import java.io.IOException;

public class byteBuddyTest {
    public static void main(String[] args) throws InstantiationException, IllegalAccessException, ClassNotFoundException, IOException {
//        Class<?> dynamicType = new ByteBuddy()
//                .subclass(Object.class)
//                .method(ElementMatchers.named("toString"))
//                .intercept(FixedValue.value("Hello World"))
//                .make()
//                .load(HelloWorldBuddy.class.getClassLoader())
//                .getLoaded();
//        Object instance = dynamicType.newInstance();
//        String toString = instance.toString();
//        System.out.println(toString);
//        System.out.println(instance.getClass().getCanonicalName());


//        DynamicType.Unloaded<?> dynamicType = new ByteBuddy()
//                .subclass(Object.class)
//                .name("com.example.catdemo.DynamicType")
//                .defineField("name", String.class, 1)
//                .defineField("age", Integer.class, 1)
//                .method(ElementMatchers.named("toString"))
//                .intercept(FixedValue.value("Hello World!"))
//                .make();
//        dynamicType.saveIn(new File("DynamicType"));

//        String toString = new ByteBuddy()
//                .subclass(HelloWorldBuddy.class)
//                .method(named("toString2")).intercept(MethodDelegation.to(Target.class))
//                .make()
//                .load(byteBuddyTest.class.getClassLoader())
//                .getLoaded()
//                .newInstance()
//                .toString2("World");
//        System.out.println(toString);


    }

}



